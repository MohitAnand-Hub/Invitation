!function(e){e.fn.lazyTube=function(a){if(!this.length)return this;var t=e.extend(!0,{},e.lazyTube.defaults,a);return this.each(function(){var a=e(this),i=a.data("id")||null,d=a.data("thumbnail")||"mqdefault",l=a.data("autoplay")||"no",r=a.data("autoload")||!1,n=a.data("width")||"320",o=a.data("height")||"240",h=a.data("target")||"self",u=a.children(".preview");0==u.length&&(u=e('<a href="#" class="preview"></a>'),a.prepend(u)),u.append('<img src="//img.youtube.com/vi/'+i+"/"+d+'.jpg" alt="" />'),u.on("click",function(d){switch(h){case"self":var r,c=t.embedCode,s="rel=0&wmode=transparent";s+="yes"==l?"&autoplay=1":"",c=c.replace("{width}",n).replace("{height}",o).replace("{id}",i).replace("{flags}",s),r=e(c),u.hide(),a.append(r);break;default:var f=t.targetHandlers[h];"function"==typeof f&&f.call(a,t,{id:i,width:n,height:o,autoplay:l})}d.preventDefault()}),"yes"==r&&e(window).on("load",function(){u.trigger("click")})}),this},e.lazyTube={defaults:{targetHandlers:{},embedCode:'<div class="embed"><iframe width="{width}" height="{height}" src="//www.youtube-nocookie.com/embed/{id}?{flags}" frameborder="0" allowfullscreen></iframe></div>'}}}(jQuery);
